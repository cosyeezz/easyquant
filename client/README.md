# EasyQuant Client - å‰ç«¯åº”ç”¨

> é‡åŒ–äº¤æ˜“ç³»ç»Ÿçš„ç°ä»£åŒ–Webç›‘æ§ç•Œé¢

è¿™æ˜¯EasyQuanté‡åŒ–äº¤æ˜“ç³»ç»Ÿçš„ç‹¬ç«‹å‰ç«¯åº”ç”¨ï¼Œä½¿ç”¨React + Vite + Tailwind CSSæ„å»ºã€‚å³ä½¿è„±ç¦»åç«¯é¡¹ç›®ï¼Œæœ¬æ–‡æ¡£ä¹ŸåŒ…å«äº†å®Œæ•´çš„ä½¿ç”¨è¯´æ˜ã€‚

## åŠŸèƒ½ç‰¹æ€§

- **ETLé…ç½®** - å¯è§†åŒ–é…ç½®æ•°æ®åŠ è½½å’Œå¤„ç†æµç¨‹å‚æ•°
  - è¿›ç¨‹æ•°é‡é…ç½®ï¼ˆå¯ç•™ç©ºè‡ªåŠ¨åˆ†é…ï¼‰
  - æ•°æ®æºç±»å‹é€‰æ‹©
  - æ‰¹å¤„ç†å¤§å°å’Œå¹¶è¡Œä»»åŠ¡æ•°è®¾ç½®
  - æ•°æ®éªŒè¯å’Œé”™è¯¯é‡è¯•é€‰é¡¹

- **è¿›ç¨‹ç›‘æ§** - å®æ—¶ç›‘æ§æ‰€æœ‰ETLè¿›ç¨‹çš„è¿è¡ŒçŠ¶æ€
  - è¿›ç¨‹åˆ—è¡¨å±•ç¤º
  - å®æ—¶è¿›åº¦è¿½è¸ªï¼ˆé˜Ÿåˆ—å¤§å°ã€å¤„ç†è¿›åº¦ï¼‰
  - å½“å‰å¤„ç†æ–‡ä»¶æ˜¾ç¤º
  - è¯¦ç»†äº‹ä»¶æ—¥å¿—æŸ¥çœ‹
  - è‡ªåŠ¨åˆ·æ–°ï¼ˆæ¯2ç§’è½®è¯¢ï¼‰

## æŠ€æœ¯æ ˆ

- **React 18** - UIæ¡†æ¶
- **Vite** - æ„å»ºå·¥å…·
- **Tailwind CSS** - æ ·å¼æ¡†æ¶
- **Axios** - HTTPå®¢æˆ·ç«¯
- **Lucide React** - å›¾æ ‡åº“
- **date-fns** - æ—¥æœŸæ ¼å¼åŒ–

## å®‰è£…å’Œè¿è¡Œ

### å‰ç½®è¦æ±‚

- Node.js >= 16.0.0
- npm æˆ– yarn

### å®‰è£…ä¾èµ–

```bash
cd client
npm install
```

### å¯åŠ¨å¼€å‘æœåŠ¡å™¨

```bash
npm run dev
```

åº”ç”¨å°†åœ¨ `http://localhost:3000` å¯åŠ¨ã€‚

### æ„å»ºç”Ÿäº§ç‰ˆæœ¬

```bash
npm run build
```

æ„å»ºäº§ç‰©å°†è¾“å‡ºåˆ° `dist/` ç›®å½•ã€‚

### é¢„è§ˆç”Ÿäº§ç‰ˆæœ¬

```bash
npm run preview
```

## APIé…ç½®

å‰ç«¯é€šè¿‡Viteä»£ç†ä¸åç«¯APIé€šä¿¡ã€‚é…ç½®åœ¨ `vite.config.js` ä¸­ï¼š

```javascript
server: {
  port: 3000,
  proxy: {
    '/api': {
      target: 'http://localhost:8000',
      changeOrigin: true,
    }
  }
}
```

ç¡®ä¿åç«¯æœåŠ¡è¿è¡Œåœ¨ `http://localhost:8000`ã€‚

## é¡¹ç›®ç»“æ„

```
client/
â”œâ”€â”€ public/              # é™æ€èµ„æº
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ components/      # Reactç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ ETLConfig.jsx          # ETLé…ç½®é¡µé¢
â”‚   â”‚   â””â”€â”€ ProcessMonitor.jsx     # è¿›ç¨‹ç›‘æ§é¡µé¢
â”‚   â”œâ”€â”€ services/        # APIæœåŠ¡
â”‚   â”‚   â””â”€â”€ api.js                 # APIè°ƒç”¨å°è£…
â”‚   â”œâ”€â”€ App.jsx          # ä¸»åº”ç”¨ç»„ä»¶
â”‚   â”œâ”€â”€ main.jsx         # åº”ç”¨å…¥å£
â”‚   â””â”€â”€ index.css        # å…¨å±€æ ·å¼
â”œâ”€â”€ index.html           # HTMLæ¨¡æ¿
â”œâ”€â”€ package.json         # ä¾èµ–é…ç½®
â”œâ”€â”€ vite.config.js       # Viteé…ç½®
â”œâ”€â”€ tailwind.config.js   # Tailwindé…ç½®
â””â”€â”€ postcss.config.js    # PostCSSé…ç½®
```

## ä½¿ç”¨è¯´æ˜

### 1. ETLé…ç½®é¡µé¢

åœ¨æ­¤é¡µé¢å¯ä»¥é…ç½®ETLè¿›ç¨‹çš„å„é¡¹å‚æ•°ï¼š

- **è¿›ç¨‹æ•°é‡**: ç•™ç©ºåˆ™è‡ªåŠ¨åˆ†é…ï¼Œå»ºè®®ä¸ºCPUæ ¸å¿ƒæ•°çš„50-75%
- **æ•°æ®æº**: æ”¯æŒæœ¬åœ°æ–‡ä»¶ã€APIæ¥å£ã€æ•°æ®åº“å’ŒQMTç»ˆç«¯
- **æ‰¹å¤„ç†å¤§å°**: æ¯æ‰¹å¤„ç†çš„è®°å½•æ•°ï¼Œå½±å“å†…å­˜å’Œé€Ÿåº¦
- **å¹¶è¡Œä»»åŠ¡æ•°**: æ¯ä¸ªè¿›ç¨‹å†…éƒ¨çš„å¹¶è¡Œä»»åŠ¡æ•°é‡

é…ç½®å®Œæˆåç‚¹å‡»"å¯åŠ¨ETL"æŒ‰é’®å¯åŠ¨è¿›ç¨‹ã€‚

### 2. è¿›ç¨‹ç›‘æ§é¡µé¢

å®æ—¶ç›‘æ§æ‰€æœ‰è¿è¡Œä¸­çš„è¿›ç¨‹ï¼š

- æ¯ä¸ªè¿›ç¨‹å¡ç‰‡æ˜¾ç¤ºå…³é”®æŒ‡æ ‡ï¼ˆè¿›åº¦ã€é˜Ÿåˆ—ã€å½“å‰æ–‡ä»¶ï¼‰
- ç‚¹å‡»è¿›ç¨‹å¡ç‰‡æŸ¥çœ‹è¯¦ç»†äº‹ä»¶æ—¥å¿—
- å³ä¸Šè§’å¯ä»¥åˆ‡æ¢è‡ªåŠ¨åˆ·æ–°å¼€å…³
- é»˜è®¤æ¯2ç§’è‡ªåŠ¨è½®è¯¢æœ€æ–°æ•°æ®

## ç•Œé¢é¢„è§ˆ

### ETLé…ç½®é¡µé¢
- ç¾è§‚çš„æ¸å˜èƒŒæ™¯
- æ¸…æ™°çš„é…ç½®åˆ†ç»„ï¼ˆåŸºç¡€é…ç½®ã€é«˜çº§é…ç½®ï¼‰
- å®æ—¶é…ç½®é¢„è§ˆ
- å“åº”å¼å¸ƒå±€

### è¿›ç¨‹ç›‘æ§é¡µé¢
- å¡ç‰‡å¼è¿›ç¨‹å±•ç¤º
- å®æ—¶è¿›åº¦æ¡
- é¢œè‰²ç¼–ç çš„çŠ¶æ€å¾½ç« ï¼ˆè¿è¡Œä¸­/å·²å®Œæˆ/é”™è¯¯ï¼‰
- è¯¦ç»†çš„äº‹ä»¶æ—¶é—´çº¿

## å¼€å‘è¯´æ˜

### è‡ªå®šä¹‰ä¸»é¢˜

åœ¨ `tailwind.config.js` ä¸­å¯ä»¥è‡ªå®šä¹‰é¢œè‰²å’Œä¸»é¢˜ï¼š

```javascript
theme: {
  extend: {
    colors: {
      primary: { ... },
      success: { ... },
      // æ·»åŠ æ›´å¤šé¢œè‰²
    }
  }
}
```

### æ·»åŠ æ–°ç»„ä»¶

1. åœ¨ `src/components/` ç›®å½•ä¸‹åˆ›å»ºæ–°ç»„ä»¶
2. ä½¿ç”¨ `lucide-react` å›¾æ ‡åº“æ·»åŠ å›¾æ ‡
3. ä½¿ç”¨Tailwind CSSç±»åè¿›è¡Œæ ·å¼åŒ–
4. åœ¨ `App.jsx` ä¸­å¼•å…¥å¹¶æ·»åŠ åˆ°è·¯ç”±

## æ•…éšœæ’é™¤

### ç«¯å£å†²çª

å¦‚æœ3000ç«¯å£è¢«å ç”¨ï¼Œä¿®æ”¹ `vite.config.js` ä¸­çš„ç«¯å£ï¼š

```javascript
server: {
  port: 3001, // æ”¹ä¸ºå…¶ä»–ç«¯å£
}
```

### APIè¿æ¥å¤±è´¥

ç¡®ä¿ï¼š
1. åç«¯æœåŠ¡æ­£åœ¨è¿è¡Œï¼ˆ`python server/main.py`ï¼‰
2. åç«¯è¿è¡Œåœ¨ `http://localhost:8000`
3. æ£€æŸ¥æµè§ˆå™¨æ§åˆ¶å°çš„ç½‘ç»œè¯·æ±‚

### æ ·å¼ä¸ç”Ÿæ•ˆ

æ¸…é™¤ç¼“å­˜å¹¶é‡æ–°æ„å»ºï¼š

```bash
rm -rf node_modules/.vite
npm run dev
```

## åç«¯APIè¯´æ˜

å¦‚æœä½ æ˜¯ç‹¬ç«‹å¼€å‘å‰ç«¯ï¼Œéœ€è¦äº†è§£åç«¯APIæ¥å£è§„èŒƒï¼š

### åŸºç¡€ä¿¡æ¯
- **Base URL**: `http://localhost:8000/api/v1`
- **åè®®**: HTTP/REST
- **æ•°æ®æ ¼å¼**: JSON

### ç«¯ç‚¹åˆ—è¡¨

#### 1. è·å–äº‹ä»¶åˆ—è¡¨
```http
GET /api/v1/events
```

**æŸ¥è¯¢å‚æ•°**:
- `process_name` (å¯é€‰): æŒ‰è¿›ç¨‹åç­›é€‰
- `event_name` (å¯é€‰): æŒ‰äº‹ä»¶åç­›é€‰
- `limit` (å¯é€‰): è¿”å›æ•°é‡ï¼Œé»˜è®¤100
- `offset` (å¯é€‰): åˆ†é¡µåç§»ï¼Œé»˜è®¤0

**å“åº”ç¤ºä¾‹**:
```json
[
  {
    "id": 1,
    "process_name": "ETL_Pipeline_1",
    "event_name": "loader.queue.status",
    "payload": {
      "queue_size": 42,
      "current_file": "stock_data_2024.csv",
      "processed": 1000,
      "total": 5000,
      "progress": 20.0
    },
    "created_at": "2025-12-06T10:30:00Z",
    "updated_at": "2025-12-06T10:30:00Z"
  }
]
```

#### 2. è·å–è¿›ç¨‹åˆ—è¡¨
```http
GET /api/v1/processes
```

**å“åº”ç¤ºä¾‹**:
```json
[
  {
    "name": "ETL_Pipeline_1",
    "latest_event": {
      "id": 100,
      "process_name": "ETL_Pipeline_1",
      "event_name": "task.running",
      "payload": { ... },
      "created_at": "2025-12-06T10:35:00Z",
      "updated_at": "2025-12-06T10:35:00Z"
    },
    "last_seen": "2025-12-06T10:35:00Z"
  }
]
```

### Payloadå­—æ®µè§„èŒƒ

ä¸ºäº†è®©å‰ç«¯æ­£ç¡®è§£æå’Œæ˜¾ç¤ºï¼Œåç«¯äº‹ä»¶çš„payloadåº”åŒ…å«ä»¥ä¸‹å­—æ®µï¼ˆå¯é€‰ï¼‰ï¼š

```typescript
{
  queue_size?: number       // é˜Ÿåˆ—å¤§å°
  current_file?: string     // å½“å‰å¤„ç†æ–‡ä»¶
  processed?: number        // å·²å¤„ç†æ•°é‡
  total?: number           // æ€»æ•°é‡
  progress?: number        // è¿›åº¦ç™¾åˆ†æ¯” (0-100)
  status?: string          // çŠ¶æ€: running | completed | error
  error?: string           // é”™è¯¯ä¿¡æ¯
}
```

### CORSé…ç½®

åç«¯éœ€è¦é…ç½®CORSä»¥å…è®¸å‰ç«¯è·¨åŸŸè®¿é—®ï¼š

```python
# FastAPIç¤ºä¾‹
app.add_middleware(
    CORSMiddleware,
    allow_origins=["http://localhost:3000"],
    allow_credentials=True,
    allow_methods=["*"],
    allow_headers=["*"],
)
```

### æ¨èçš„äº‹ä»¶å‘½åè§„èŒƒ

- `task.started` - ä»»åŠ¡å¼€å§‹
- `task.running` - ä»»åŠ¡è¿è¡Œä¸­
- `task.completed` - ä»»åŠ¡å®Œæˆ
- `task.error` - ä»»åŠ¡é”™è¯¯
- `loader.queue.status` - é˜Ÿåˆ—çŠ¶æ€æ›´æ–°
- `loader.file.processing` - æ–‡ä»¶å¤„ç†ä¸­
- `loader.progress.update` - è¿›åº¦æ›´æ–°

## å¼€å‘èµ„æº

### ç›¸å…³æ–‡æ¡£
- ğŸ“ [å¼€å‘æ—¥å¿—](./DEVLOG.md) - è¯¦ç»†çš„å¼€å‘è¿‡ç¨‹è®°å½•
- ğŸ¨ [Tailwind CSS](https://tailwindcss.com) - æ ·å¼æ¡†æ¶æ–‡æ¡£
- âš›ï¸ [React Hooks](https://react.dev/reference/react) - Reactå®˜æ–¹æ–‡æ¡£
- ğŸš€ [Vite](https://vitejs.dev) - æ„å»ºå·¥å…·æ–‡æ¡£

### é¡¹ç›®ç»“æ„è¯´æ˜
```
client/
â”œâ”€â”€ public/              # é™æ€èµ„æºï¼ˆå›¾æ ‡ã€å›¾ç‰‡ç­‰ï¼‰
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ components/      # Reactç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ ETLConfig.jsx        # ETLé…ç½®é¡µé¢
â”‚   â”‚   â””â”€â”€ ProcessMonitor.jsx   # è¿›ç¨‹ç›‘æ§é¡µé¢
â”‚   â”œâ”€â”€ services/        # ä¸šåŠ¡é€»è¾‘å±‚
â”‚   â”‚   â””â”€â”€ api.js               # APIè°ƒç”¨å°è£…
â”‚   â”œâ”€â”€ App.jsx          # ä¸»åº”ç”¨ç»„ä»¶
â”‚   â”œâ”€â”€ main.jsx         # åº”ç”¨å…¥å£
â”‚   â””â”€â”€ index.css        # å…¨å±€æ ·å¼
â”œâ”€â”€ index.html           # HTMLæ¨¡æ¿
â”œâ”€â”€ package.json         # é¡¹ç›®é…ç½®å’Œä¾èµ–
â”œâ”€â”€ vite.config.js       # Viteé…ç½®
â”œâ”€â”€ tailwind.config.js   # Tailwindé…ç½®
â”œâ”€â”€ postcss.config.js    # PostCSSé…ç½®
â”œâ”€â”€ README.md            # æœ¬æ–‡æ¡£
â””â”€â”€ DEVLOG.md            # å¼€å‘æ—¥å¿—
```

## å¸¸è§é—®é¢˜ (FAQ)

### Q: å¦‚ä½•ä¿®æ”¹åç«¯APIåœ°å€ï¼Ÿ
A: ç¼–è¾‘ `vite.config.js` ä¸­çš„ä»£ç†é…ç½®ï¼š
```javascript
proxy: {
  '/api': {
    target: 'http://your-backend-url:port',
    changeOrigin: true,
  }
}
```

### Q: å¦‚ä½•æ·»åŠ æ–°çš„é¡µé¢ï¼Ÿ
A:
1. åœ¨ `src/components/` åˆ›å»ºæ–°ç»„ä»¶
2. åœ¨ `App.jsx` çš„ `tabs` æ•°ç»„æ·»åŠ æ–°é¡µç­¾
3. åœ¨æ¸²æŸ“éƒ¨åˆ†æ·»åŠ æ¡ä»¶æ¸²æŸ“

### Q: ä¸ºä»€ä¹ˆè¿›ç¨‹ç›‘æ§é¡µé¢æ˜¯ç©ºçš„ï¼Ÿ
A: ç¡®ä¿ï¼š
1. åç«¯æœåŠ¡æ­£åœ¨è¿è¡Œ
2. åç«¯æœ‰æ•°æ®ï¼ˆè¿è¡Œæµ‹è¯•æ•°æ®ç”Ÿæˆå™¨ï¼‰
3. æ£€æŸ¥æµè§ˆå™¨æ§åˆ¶å°çš„ç½‘ç»œè¯·æ±‚

### Q: å¦‚ä½•è‡ªå®šä¹‰ä¸»é¢˜é¢œè‰²ï¼Ÿ
A: ç¼–è¾‘ `tailwind.config.js` ä¸­çš„ `colors` é…ç½®ã€‚

### Q: èƒ½å¦éƒ¨ç½²åˆ°ç”Ÿäº§ç¯å¢ƒï¼Ÿ
A: å¯ä»¥ã€‚è¿è¡Œ `npm run build` åï¼Œå°† `dist/` ç›®å½•éƒ¨ç½²åˆ°ä»»ä½•é™æ€æœåŠ¡å™¨ï¼ˆNginxã€Vercelã€Netlifyç­‰ï¼‰ã€‚

## è´¡çŒ®æŒ‡å—

æ¬¢è¿æäº¤Issueå’ŒPull Requestï¼

### å¼€å‘æµç¨‹
1. Forkæœ¬é¡¹ç›®
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. å¼€å¯Pull Request

### ä»£ç è§„èŒƒ
- ä½¿ç”¨ESLintè¿›è¡Œä»£ç æ£€æŸ¥
- ä½¿ç”¨Prettierè¿›è¡Œä»£ç æ ¼å¼åŒ–
- ç»„ä»¶ä½¿ç”¨PascalCaseå‘½å
- éµå¾ªReact Hooksè§„åˆ™

## è®¸å¯è¯

MIT License - è¯¦è§ LICENSE æ–‡ä»¶

## è”ç³»æ–¹å¼

- é¡¹ç›®ä¸»é¡µ: [GitHub Repository]
- é—®é¢˜åé¦ˆ: [Issues]
- é‚®ç®±: your-email@example.com

---

**Made with â¤ï¸ by EasyQuant Team**

*æœ€åæ›´æ–°: 2025-12-06*
