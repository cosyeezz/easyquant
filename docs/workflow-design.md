# EasyQuant å·¥ä½œæµå¼•æ“è®¾è®¡æ–‡æ¡£

> ç‰ˆæœ¬: v1.0 | æ—¥æœŸ: 2025-12-22

---

## ä¸€ã€è®¾è®¡ç›®æ ‡

æ„å»ºä¸€ä¸ªé€šç”¨çš„é‡åŒ–å·¥ä½œæµå¼•æ“ï¼Œæ”¯æŒï¼š
- ETL æ•°æ®å¤„ç†ï¼ˆåŠ è½½ã€è½¬æ¢ã€å…¥åº“ï¼‰
- å› å­è®¡ç®—
- ç­–ç•¥å›æµ‹æ¨¡æ‹Ÿ
- å®ç›˜ä¿¡å·ç”Ÿæˆ

æ ¸å¿ƒåŸåˆ™ï¼š**åˆ—çº§åˆ«çš„æ•°æ®æµæ§åˆ¶**ï¼Œç²¾ç¡®ç®¡ç† DataFrame ä¸­æ¯ä¸€åˆ—çš„æµå‘ã€‚

---

## äºŒã€æ ¸å¿ƒæ¦‚å¿µ

### 2.1 æ•°æ®æµç±»å‹

| ç±»å‹ | è¯´æ˜ | å…¸å‹åœºæ™¯ |
|-----|------|---------|
| `df` | DataFrame æ•°æ®æµ | 95% çš„èŠ‚ç‚¹é—´æ•°æ®ä¼ é€’ |
| `signal` | äº¤æ˜“ä¿¡å· | ç­–ç•¥è¾“å‡ºã€å®ç›˜æ‰§è¡Œ |

### 2.2 ç«¯å£ (Port)

ç«¯å£æ˜¯èŠ‚ç‚¹ä¹‹é—´çš„è¿æ¥ç‚¹ï¼Œåˆ†ä¸ºè¾“å…¥ç«¯å£å’Œè¾“å‡ºç«¯å£ã€‚

**è¾“å…¥ç«¯å£**ï¼š
- å•è¾“å…¥èŠ‚ç‚¹ï¼š`df`
- åŒè¾“å…¥åˆå¹¶ï¼š`left`, `right`
- ä¸»+å‚ç…§ï¼š`main`, `ref`

**è¾“å‡ºç«¯å£**ï¼š
- æ”¯æŒå¤šè¾“å‡ºç«¯å£
- æ¯ä¸ªç«¯å£å¯è¾“å‡ºä¸åŒçš„åˆ—ç»„åˆ
- é»˜è®¤ç«¯å£åï¼š`df`, `signal`

---

## ä¸‰ã€åˆ— (Column) è®¾è®¡

### 3.1 è®¾è®¡åŸåˆ™

1. **æ˜¾å¼é€‰æ‹©**ï¼šå¿…é¡»æ˜ç¡®å‹¾é€‰è¦è¾“å‡ºçš„åˆ—ï¼Œä¸åšéšå¼é€ä¼ 
2. **å†²çªæŠ¥é”™**ï¼šå¤šè¾“å…¥æ—¶åˆ—åå†²çªç›´æ¥æŠ¥é”™ï¼Œéœ€åœ¨ä¸Šæ¸¸å…ˆé‡å‘½å
3. **å¤šç«¯å£åˆ†å‘**ï¼šåŒä¸€èŠ‚ç‚¹çš„ä¸åŒåˆ—å¯è¾“å‡ºåˆ°ä¸åŒç«¯å£
4. **ä¸°å¯Œå…ƒä¿¡æ¯**ï¼šåˆ—å®šä¹‰åŒ…å«ç±»å‹ã€æ ¼å¼ã€æè¿°ç­‰å®Œæ•´ä¿¡æ¯

### 3.2 åˆ—å®šä¹‰ç»“æ„

```typescript
interface ColumnDefinition {
  // åŸºç¡€ä¿¡æ¯ï¼ˆå¿…å¡«ï¼‰
  name: string;           // åˆ—åï¼Œå¦‚ "close"
  type: ColumnType;       // æ•°æ®ç±»å‹

  // æ˜¾ç¤ºä¿¡æ¯ï¼ˆæ¨èï¼‰
  title?: string;         // æ˜¾ç¤ºåç§°ï¼Œå¦‚ "æ”¶ç›˜ä»·"
  description?: string;   // è¯¦ç»†æè¿°

  // æ ¼å¼åŒ–ï¼ˆå¯é€‰ï¼‰
  format?: ColumnFormat;  // æ˜¾ç¤ºæ ¼å¼
  precision?: number;     // å°æ•°ä½æ•°
  unit?: string;          // å•ä½ï¼Œå¦‚ "å…ƒ"ã€"%"

  // çº¦æŸï¼ˆå¯é€‰ï¼‰
  nullable?: boolean;     // æ˜¯å¦å¯ä¸ºç©ºï¼Œé»˜è®¤ true
  constraints?: {
    min?: number;
    max?: number;
    enum?: string[];      // æšä¸¾å€¼
    pattern?: string;     // æ­£åˆ™è¡¨è¾¾å¼
  };

  // æ¥æºæ ‡è®°
  from_upstream?: boolean; // true=é€ä¼ ä¸Šæ¸¸ï¼Œfalse=æœ¬èŠ‚ç‚¹æ–°å¢

  // è¾…åŠ©ä¿¡æ¯
  example?: string;       // ç¤ºä¾‹å€¼
}
```

### 3.3 ç±»å‹æšä¸¾

```typescript
type ColumnType =
  | "string"    // å­—ç¬¦ä¸²
  | "number"    // æµ®ç‚¹æ•°
  | "integer"   // æ•´æ•°
  | "boolean"   // å¸ƒå°”å€¼
  | "date"      // æ—¥æœŸ (YYYY-MM-DD)
  | "datetime"  // æ—¥æœŸæ—¶é—´
  | "array"     // æ•°ç»„
  | "object"    // å¯¹è±¡
```

### 3.4 æ ¼å¼æšä¸¾

```typescript
type ColumnFormat =
  // æ•°å€¼æ ¼å¼
  | "default"   // é»˜è®¤
  | "price"     // ä»·æ ¼ï¼š15.32
  | "percent"   // ç™¾åˆ†æ¯”ï¼š12.5%
  | "volume"    // æˆäº¤é‡ï¼š1.2äº¿
  | "amount"    // é‡‘é¢ï¼šÂ¥1,234.56
  | "ratio"     // æ¯”ç‡ï¼š0.85
  // æ—¥æœŸæ ¼å¼
  | "date"      // 2025-01-15
  | "datetime"  // 2025-01-15 09:30:00
  | "time"      // 09:30:00
  // å­—ç¬¦ä¸²æ ¼å¼
  | "code"      // è‚¡ç¥¨ä»£ç 
  | "name"      // åç§°
  | "text"      // é•¿æ–‡æœ¬
```

---

## å››ã€èŠ‚ç‚¹ (Node) è®¾è®¡

### 4.1 èŠ‚ç‚¹æ•°æ®ç»“æ„

```typescript
interface WorkflowNode {
  id: string;
  type: string;                    // èŠ‚ç‚¹ç±»å‹æ ‡è¯†
  position: { x: number; y: number };

  data: {
    // åŸºæœ¬ä¿¡æ¯
    label: string;                 // èŠ‚ç‚¹æ˜¾ç¤ºåç§°

    // è¾“å…¥ç«¯å£é…ç½®
    inputs: InputPort[];

    // è¾“å‡ºç«¯å£é…ç½®
    outputs: OutputPort[];

    // èŠ‚ç‚¹ä¸šåŠ¡å‚æ•°
    params: Record<string, any>;
  };
}

interface InputPort {
  port: string;                    // ç«¯å£åï¼šdf, left, right, main, ref
  label?: string;                  // ç«¯å£æ˜¾ç¤ºå
  required_columns: string[];      // è¯¥ç«¯å£å¿…éœ€çš„åˆ—ï¼ˆç”¨äºè®¡ç®—ï¼‰
  accepted_types?: ColumnType[];   // å¯æ¥å—çš„åˆ—ç±»å‹ï¼ˆå¯é€‰æ ¡éªŒï¼‰
}

interface OutputPort {
  port: string;                    // ç«¯å£å
  label?: string;                  // ç«¯å£æ˜¾ç¤ºå
  columns: ColumnDefinition[];     // è¯¥ç«¯å£è¾“å‡ºçš„åˆ—ï¼ˆæ˜¾å¼é…ç½®ï¼‰
}
```

### 4.2 èŠ‚ç‚¹åˆ†ç±»

#### 4.2.1 æ•°æ®è¾“å…¥ (Input)

| èŠ‚ç‚¹ | è¯´æ˜ | è¾“å…¥ç«¯å£ | è¾“å‡ºç«¯å£ |
|------|------|---------|---------|
| CSV Loader | åŠ è½½æœ¬åœ° CSV | - | `df` |
| Database Reader | ä»æ•°æ®åº“è¯»å– | - | `df` |
| API Fetcher | è°ƒç”¨å¤–éƒ¨ API | - | `df`, `error` |
| QMT Feed | QMT å®æ—¶è¡Œæƒ… | - | `df` |

#### 4.2.2 æ•°æ®å¤„ç† (Transform)

| èŠ‚ç‚¹ | è¯´æ˜ | è¾“å…¥ç«¯å£ | è¾“å‡ºç«¯å£ |
|------|------|---------|---------|
| Column Rename | åˆ—é‡å‘½å | `df` | `df` |
| Column Select | åˆ—ç­›é€‰ | `df` | `df` |
| Filter | è¡Œè¿‡æ»¤ | `df` | `matched`, `rejected` |
| Merge | åˆå¹¶æ•°æ® | `left`, `right` | `df` |
| Join | å…³è”æŸ¥è¯¢ | `main`, `ref` | `df` |
| Resample | æ—¶é—´é‡é‡‡æ · | `df` | `df` |
| Fill Missing | ç¼ºå¤±å€¼å¡«å…… | `df` | `df` |
| Dedup | å»é‡ | `df` | `df`, `duplicates` |

#### 4.2.3 é‡åŒ–è®¡ç®— (Quant)

| èŠ‚ç‚¹ | è¯´æ˜ | è¾“å…¥ç«¯å£ | è¾“å‡ºç«¯å£ |
|------|------|---------|---------|
| MA | ç§»åŠ¨å¹³å‡ | `df` | `df` |
| MACD | MACD æŒ‡æ ‡ | `df` | `df` |
| RSI | RSI æŒ‡æ ‡ | `df` | `df` |
| BOLL | å¸ƒæ—å¸¦ | `df` | `df` |
| Factor | å› å­è®¡ç®— | `df`, `ref` | `df` |
| Feature | ç‰¹å¾å·¥ç¨‹ | `df` | `df` |

#### 4.2.4 ç­–ç•¥é€»è¾‘ (Strategy)

| èŠ‚ç‚¹ | è¯´æ˜ | è¾“å…¥ç«¯å£ | è¾“å‡ºç«¯å£ |
|------|------|---------|---------|
| Signal Generator | ä¿¡å·ç”Ÿæˆ | `df` | `signal` |
| Condition | æ¡ä»¶åˆ†æ”¯ | `df` | `true`, `false` |
| Code Block | è‡ªå®šä¹‰ä»£ç  | `df` | `df`, `signal` |

#### 4.2.5 å›æµ‹æ‰§è¡Œ (Backtest)

| èŠ‚ç‚¹ | è¯´æ˜ | è¾“å…¥ç«¯å£ | è¾“å‡ºç«¯å£ |
|------|------|---------|---------|
| Backtest Engine | å›æµ‹å¼•æ“ | `df`, `signal` | `trades`, `equity` |
| Performance | ç»©æ•ˆåˆ†æ | `trades`, `equity` | `metrics` |

#### 4.2.6 æ•°æ®è¾“å‡º (Output)

| èŠ‚ç‚¹ | è¯´æ˜ | è¾“å…¥ç«¯å£ | è¾“å‡ºç«¯å£ |
|------|------|---------|---------|
| Database Writer | å†™å…¥æ•°æ®åº“ | `df` | `result` |
| CSV Export | å¯¼å‡º CSV | `df` | `result` |
| Notification | æ¶ˆæ¯é€šçŸ¥ | `signal` | `result` |

---

## äº”ã€èŠ‚ç‚¹å‚æ•°ç±»å‹ç³»ç»Ÿ

### 5.1 è®¾è®¡åŸåˆ™

èŠ‚ç‚¹å‚æ•°é‡‡ç”¨ **ç±»å‹ + ä¸“å±é…ç½®** çš„è®¾è®¡æ¨¡å¼ï¼š

```
é€‰æ‹©å…¥å‚ç±»å‹ â†’ å¼¹å‡ºè¯¥ç±»å‹çš„ä¸“å±é…ç½®é¡¹
```

ä¸åŒç±»å‹çš„å‚æ•°æœ‰ä¸åŒçš„é…ç½®é€‰é¡¹ï¼Œé€‰æ‹©ç±»å‹åæ‰æ˜¾ç¤ºå¯¹åº”çš„ä¸“å±é…ç½®ã€‚

### 5.2 å…¥å‚ç±»å‹ä¸€è§ˆ

| ç±»å‹æ ‡è¯† | åç§° | è¯´æ˜ | å¯ä½œä¸ºå‡ºå‚ |
|---------|------|------|-----------|
| `file_picker` | æ–‡ä»¶ç³»ç»Ÿé€‰æ‹©å™¨ | é€‰æ‹©æ–‡ä»¶æˆ–æ–‡ä»¶å¤¹ | âŒ |
| `limit` | æ•°é‡é™åˆ¶ | å‰Nä¸ª/åNä¸ª/ç™¾åˆ†æ¯” | âŒ |
| `number` | æ•°å€¼è¾“å…¥ | æ•´æ•°æˆ–å°æ•° | âŒ |
| `text` | æ–‡æœ¬è¾“å…¥ | å•è¡Œæ–‡æœ¬ | âŒ |
| `select` | ä¸‹æ‹‰å•é€‰ | ä»é¢„è®¾é€‰é¡¹ä¸­é€‰æ‹© | âŒ |
| `multi_select` | ä¸‹æ‹‰å¤šé€‰ | å¤šé€‰é¢„è®¾é€‰é¡¹ | âŒ |
| `upstream_column` | ä¸Šæ¸¸åˆ—é€‰æ‹©(å•) | ä»ä¸Šæ¸¸åˆ—ä¸­å•é€‰ | âŒ |
| `upstream_columns` | ä¸Šæ¸¸åˆ—é€‰æ‹©(å¤š) | ä»ä¸Šæ¸¸åˆ—ä¸­å¤šé€‰ | âŒ |
| `db_table` | æ•°æ®åº“è¡¨é€‰æ‹© | é€‰æ‹©æ•°æ®åº“è¡¨ | âŒ |
| `code` | ä»£ç ç¼–è¾‘å™¨ | Python/SQL ä»£ç  | âŒ |

### 5.3 å‡ºå‚ç±»å‹ä¸€è§ˆ

| ç±»å‹æ ‡è¯† | åç§° | è¯´æ˜ |
|---------|------|------|
| `df` | DataFrame | è¡¨æ ¼æ•°æ® |
| `signal` | äº¤æ˜“ä¿¡å· | ä¹°å–ä¿¡å· |
| `file` | æ–‡ä»¶è·¯å¾„ | å¯¼å‡ºçš„æ–‡ä»¶ |
| `chart` | å›¾è¡¨ | å¯è§†åŒ–å›¾è¡¨ |
| `metrics` | æŒ‡æ ‡æ•°æ® | ç»Ÿè®¡æŒ‡æ ‡ |
| `message` | æ¶ˆæ¯ | é€šçŸ¥å†…å®¹ |
| `json` | JSON | ç»“æ„åŒ–æ•°æ® |
| `status` | æ‰§è¡ŒçŠ¶æ€ | æˆåŠŸ/å¤±è´¥ |

### 5.4 å…¥å‚ç±»å‹ä¸“å±é…ç½®

#### 5.4.1 `file_picker` æ–‡ä»¶ç³»ç»Ÿé€‰æ‹©å™¨

| é…ç½®é¡¹ | ç±»å‹ | è¯´æ˜ | ç¤ºä¾‹ |
|-------|------|------|------|
| `name` | string | å‚æ•°åç§° | `path` |
| `title` | string | æ˜¾ç¤ºæ ‡é¢˜ | `æ–‡ä»¶è·¯å¾„` |
| `description` | string | å‚æ•°æè¿° | `é€‰æ‹© CSV æ–‡ä»¶æˆ–æ–‡ä»¶å¤¹` |
| `accept` | string[] | å…è®¸çš„æ–‡ä»¶ç±»å‹ | `[".csv", ".txt", "folder"]` |
| `multiple` | boolean | æ˜¯å¦å¤šé€‰ | `false` |
| `required` | boolean | æ˜¯å¦å¿…å¡« | `true` |
| `default` | string | é»˜è®¤å€¼ | `/data/` |

#### 5.4.2 `limit` æ•°é‡é™åˆ¶

| é…ç½®é¡¹ | ç±»å‹ | è¯´æ˜ | ç¤ºä¾‹ |
|-------|------|------|------|
| `name` | string | å‚æ•°åç§° | `limit` |
| `title` | string | æ˜¾ç¤ºæ ‡é¢˜ | `æ•°æ®é™åˆ¶` |
| `modes` | string[] | å¯é€‰çš„é™åˆ¶æ¨¡å¼ | `["head_n", "tail_n", "head_pct", "tail_pct", "none"]` |
| `default_mode` | string | é»˜è®¤æ¨¡å¼ | `none` |
| `default_value` | number | é»˜è®¤æ•°å€¼ | `100` |

**é™åˆ¶æ¨¡å¼è¯´æ˜**ï¼š
- `head_n`: å‰ N æ¡
- `tail_n`: å N æ¡
- `head_pct`: å‰ N%
- `tail_pct`: å N%
- `none`: ä¸é™åˆ¶

#### 5.4.3 `number` æ•°å€¼è¾“å…¥

| é…ç½®é¡¹ | ç±»å‹ | è¯´æ˜ | ç¤ºä¾‹ |
|-------|------|------|------|
| `name` | string | å‚æ•°åç§° | `window` |
| `title` | string | æ˜¾ç¤ºæ ‡é¢˜ | `çª—å£å‘¨æœŸ` |
| `format` | string | æ ¼å¼ | `default` / `money` / `percent` |
| `min` | number | æœ€å°å€¼ | `1` |
| `max` | number | æœ€å¤§å€¼ | `250` |
| `step` | number | æ­¥é•¿ | `1` |
| `default` | number | é»˜è®¤å€¼ | `5` |
| `required` | boolean | æ˜¯å¦å¿…å¡« | `true` |

#### 5.4.4 `text` æ–‡æœ¬è¾“å…¥

| é…ç½®é¡¹ | ç±»å‹ | è¯´æ˜ | ç¤ºä¾‹ |
|-------|------|------|------|
| `name` | string | å‚æ•°åç§° | `column_name` |
| `title` | string | æ˜¾ç¤ºæ ‡é¢˜ | `åˆ—å` |
| `placeholder` | string | å ä½æç¤º | `è¾“å…¥åˆ—å...` |
| `pattern` | string | æ­£åˆ™æ ¡éªŒ | `^[a-z_]+$` |
| `max_length` | number | æœ€å¤§é•¿åº¦ | `50` |
| `default` | string | é»˜è®¤å€¼ | `""` |
| `required` | boolean | æ˜¯å¦å¿…å¡« | `true` |

#### 5.4.5 `select` ä¸‹æ‹‰å•é€‰

| é…ç½®é¡¹ | ç±»å‹ | è¯´æ˜ | ç¤ºä¾‹ |
|-------|------|------|------|
| `name` | string | å‚æ•°åç§° | `encoding` |
| `title` | string | æ˜¾ç¤ºæ ‡é¢˜ | `æ–‡ä»¶ç¼–ç ` |
| `options` | array | é€‰é¡¹åˆ—è¡¨ | `[{value:"utf-8", label:"UTF-8"}, ...]` |
| `default` | string | é»˜è®¤å€¼ | `utf-8` |
| `required` | boolean | æ˜¯å¦å¿…å¡« | `true` |

#### 5.4.6 `multi_select` ä¸‹æ‹‰å¤šé€‰

| é…ç½®é¡¹ | ç±»å‹ | è¯´æ˜ | ç¤ºä¾‹ |
|-------|------|------|------|
| `name` | string | å‚æ•°åç§° | `file_types` |
| `title` | string | æ˜¾ç¤ºæ ‡é¢˜ | `æ–‡ä»¶ç±»å‹` |
| `options` | array | é€‰é¡¹åˆ—è¡¨ | `[{value:".csv"}, {value:".txt"}]` |
| `default` | string[] | é»˜è®¤é€‰ä¸­ | `[".csv"]` |
| `min_select` | number | æœ€å°‘é€‰å‡ ä¸ª | `1` |
| `max_select` | number | æœ€å¤šé€‰å‡ ä¸ª | `5` |

#### 5.4.7 `upstream_column` ä¸Šæ¸¸åˆ—é€‰æ‹©ï¼ˆå•é€‰ï¼‰

| é…ç½®é¡¹ | ç±»å‹ | è¯´æ˜ | ç¤ºä¾‹ |
|-------|------|------|------|
| `name` | string | å‚æ•°åç§° | `price_column` |
| `title` | string | æ˜¾ç¤ºæ ‡é¢˜ | `ä»·æ ¼åˆ—` |
| `description` | string | æè¿° | `é€‰æ‹©ç”¨äºè®¡ç®—çš„ä»·æ ¼åˆ—` |
| `column_types` | string[] | å…è®¸çš„åˆ—ç±»å‹ | `["number"]` |
| `required` | boolean | æ˜¯å¦å¿…å¡« | `true` |

#### 5.4.8 `upstream_columns` ä¸Šæ¸¸åˆ—é€‰æ‹©ï¼ˆå¤šé€‰ï¼‰

| é…ç½®é¡¹ | ç±»å‹ | è¯´æ˜ | ç¤ºä¾‹ |
|-------|------|------|------|
| `name` | string | å‚æ•°åç§° | `output_columns` |
| `title` | string | æ˜¾ç¤ºæ ‡é¢˜ | `è¾“å‡ºåˆ—` |
| `column_types` | string[] | å…è®¸çš„åˆ—ç±»å‹ | `["number", "string"]` |
| `min_select` | number | æœ€å°‘é€‰å‡ ä¸ª | `1` |
| `required` | boolean | æ˜¯å¦å¿…å¡« | `true` |

#### 5.4.9 `db_table` æ•°æ®åº“è¡¨é€‰æ‹©

| é…ç½®é¡¹ | ç±»å‹ | è¯´æ˜ | ç¤ºä¾‹ |
|-------|------|------|------|
| `name` | string | å‚æ•°åç§° | `target_table` |
| `title` | string | æ˜¾ç¤ºæ ‡é¢˜ | `ç›®æ ‡è¡¨` |
| `db_source` | string | æ•°æ®æº | `default` |
| `table_filter` | string | è¡¨åè¿‡æ»¤ | `stock_*` |
| `required` | boolean | æ˜¯å¦å¿…å¡« | `true` |

#### 5.4.10 `code` ä»£ç ç¼–è¾‘å™¨

| é…ç½®é¡¹ | ç±»å‹ | è¯´æ˜ | ç¤ºä¾‹ |
|-------|------|------|------|
| `name` | string | å‚æ•°åç§° | `script` |
| `title` | string | æ˜¾ç¤ºæ ‡é¢˜ | `å¤„ç†ä»£ç ` |
| `language` | string | è¯­è¨€ | `python` / `sql` |
| `height` | string | ç¼–è¾‘å™¨é«˜åº¦ | `200px` |
| `default` | string | é»˜è®¤ä»£ç  | `# your code here` |

### 5.5 èŠ‚ç‚¹ CRUD äº¤äº’è®¾è®¡

#### 5.5.1 èŠ‚ç‚¹åˆ—è¡¨é¡µé¢

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ èŠ‚ç‚¹ç®¡ç†                                                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                             â”‚
â”‚ â”‚ ğŸ” æœç´¢èŠ‚ç‚¹...                   â”‚  [ä»ä»£ç åŒæ­¥]  [+ æ–°å»ºèŠ‚ç‚¹]  â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                             â”‚
â”‚                                                                 â”‚
â”‚ åˆ†ç±»ç­›é€‰: [å…¨éƒ¨â–¼]  çŠ¶æ€: [å…¨éƒ¨â–¼]                                 â”‚
â”‚                                                                 â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚ â”‚ ç±»å‹          â”‚ åç§°           â”‚ åˆ†ç±»     â”‚ çŠ¶æ€  â”‚ æ“ä½œ    â”‚  â”‚
â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚
â”‚ â”‚ ğŸ“ file_pickerâ”‚ CSV Loader     â”‚ æ•°æ®è¾“å…¥ â”‚ âœ…å¯ç”¨â”‚ â‹¯      â”‚  â”‚
â”‚ â”‚ ğŸ—„ï¸ db_table   â”‚ DB Reader      â”‚ æ•°æ®è¾“å…¥ â”‚ âœ…å¯ç”¨â”‚ â‹¯      â”‚  â”‚
â”‚ â”‚ ğŸ”„ transform  â”‚ Column Rename  â”‚ æ•°æ®å¤„ç† â”‚ âœ…å¯ç”¨â”‚ â‹¯      â”‚  â”‚
â”‚ â”‚ ğŸ“Š calc       â”‚ MA Calculator  â”‚ é‡åŒ–è®¡ç®— â”‚ âœ…å¯ç”¨â”‚ â‹¯      â”‚  â”‚
â”‚ â”‚ ğŸ“ˆ strategy   â”‚ Signal Gen     â”‚ ç­–ç•¥é€»è¾‘ â”‚ âš ï¸è‰ç¨¿â”‚ â‹¯      â”‚  â”‚
â”‚ â”‚ ğŸ—„ï¸ db_table   â”‚ DB Writer      â”‚ æ•°æ®è¾“å‡º â”‚ âœ…å¯ç”¨â”‚ â‹¯      â”‚  â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                 â”‚
â”‚                                          å…± 6 ä¸ªèŠ‚ç‚¹  ç¬¬ 1/1 é¡µ  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ç‚¹å‡»æ“ä½œæŒ‰é’® [â‹¯] å±•å¼€èœå•ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ‘ æŸ¥çœ‹  â”‚
â”‚ âœï¸ ç¼–è¾‘  â”‚
â”‚ ğŸ“‹ å¤åˆ¶  â”‚
â”‚ â”€â”€â”€â”€â”€â”€  â”‚
â”‚ ğŸ—‘ åˆ é™¤  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 5.5.2 æ–°å»ºèŠ‚ç‚¹ - å®Œæ•´æµç¨‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â† è¿”å›åˆ—è¡¨                               æ–°å»ºèŠ‚ç‚¹                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚ â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”“  â”‚
â”‚ â”ƒ åŸºæœ¬ä¿¡æ¯                                                   â”ƒ  â”‚
â”‚ â”—â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”›  â”‚
â”‚                                                                 â”‚
â”‚   èŠ‚ç‚¹æ ‡è¯†    [                                    ]  *å¿…å¡«     â”‚
â”‚               ç”¨äºä»£ç è°ƒç”¨ï¼Œä»…æ”¯æŒå°å†™å­—æ¯å’Œä¸‹åˆ’çº¿               â”‚
â”‚                                                                 â”‚
â”‚   æ˜¾ç¤ºåç§°    [                                    ]  *å¿…å¡«     â”‚
â”‚               ç”¨æˆ·çœ‹åˆ°çš„èŠ‚ç‚¹åç§°                                 â”‚
â”‚                                                                 â”‚
â”‚   èŠ‚ç‚¹åˆ†ç±»    [è¯·é€‰æ‹©                            â–¼]  *å¿…å¡«     â”‚
â”‚               â”œâ”€ æ•°æ®è¾“å…¥ (input)                               â”‚
â”‚               â”œâ”€ æ•°æ®å¤„ç† (transform)                           â”‚
â”‚               â”œâ”€ é‡åŒ–è®¡ç®— (quant)                               â”‚
â”‚               â”œâ”€ ç­–ç•¥é€»è¾‘ (strategy)                            â”‚
â”‚               â”œâ”€ å›æµ‹æ‰§è¡Œ (backtest)                            â”‚
â”‚               â””â”€ æ•°æ®è¾“å‡º (output)                              â”‚
â”‚                                                                 â”‚
â”‚   èŠ‚ç‚¹å›¾æ ‡    [file-csv                          â–¼]            â”‚
â”‚               [é¢„è§ˆ] ğŸ“                                         â”‚
â”‚                                                                 â”‚
â”‚   èŠ‚ç‚¹æè¿°    [                                    ]            â”‚
â”‚               ç®€è¦è¯´æ˜èŠ‚ç‚¹çš„åŠŸèƒ½                                 â”‚
â”‚                                                                 â”‚
â”‚ â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”“  â”‚
â”‚ â”ƒ å…¥å‚é…ç½®                                                   â”ƒ  â”‚
â”‚ â”—â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”›  â”‚
â”‚                                                                 â”‚
â”‚   æš‚æ— å…¥å‚                                                      â”‚
â”‚                                                                 â”‚
â”‚   [+ æ·»åŠ å…¥å‚]                                                  â”‚
â”‚                                                                 â”‚
â”‚ â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”“  â”‚
â”‚ â”ƒ å‡ºå‚é…ç½®                                                   â”ƒ  â”‚
â”‚ â”—â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”›  â”‚
â”‚                                                                 â”‚
â”‚   æš‚æ— å‡ºå‚                                                      â”‚
â”‚                                                                 â”‚
â”‚   [+ æ·»åŠ å‡ºå‚]                                                  â”‚
â”‚                                                                 â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
â”‚                                                                 â”‚
â”‚                               [å–æ¶ˆ]  [ä¿å­˜ä¸ºè‰ç¨¿]  [ä¿å­˜å¹¶å¯ç”¨] â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 5.5.3 å…¥å‚æ·»åŠ  - å†…è”å±•å¼€ç¼–è¾‘

**æ­¥éª¤ 1ï¼šç‚¹å‡» [+ æ·»åŠ å…¥å‚]ï¼Œå±•å¼€ç±»å‹é€‰æ‹©**

```
â”‚ â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”“  â”‚
â”‚ â”ƒ å…¥å‚é…ç½®                                                   â”ƒ  â”‚
â”‚ â”—â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”›  â”‚
â”‚                                                                 â”‚
â”‚   â”Œâ”€ æ·»åŠ å…¥å‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ [Ã—] â”€â”   â”‚
â”‚   â”‚                                                         â”‚   â”‚
â”‚   â”‚  é€‰æ‹©å‚æ•°ç±»å‹:                                          â”‚   â”‚
â”‚   â”‚                                                         â”‚   â”‚
â”‚   â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚   â”‚
â”‚   â”‚  â”‚ ğŸ“      â”‚ â”‚ ğŸ”¢      â”‚ â”‚ ğŸ“      â”‚ â”‚ ğŸ“‹      â”‚       â”‚   â”‚
â”‚   â”‚  â”‚file_    â”‚ â”‚number   â”‚ â”‚text     â”‚ â”‚select   â”‚       â”‚   â”‚
â”‚   â”‚  â”‚picker   â”‚ â”‚æ•°å€¼è¾“å…¥ â”‚ â”‚æ–‡æœ¬è¾“å…¥ â”‚ â”‚ä¸‹æ‹‰å•é€‰ â”‚       â”‚   â”‚
â”‚   â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚   â”‚
â”‚   â”‚                                                         â”‚   â”‚
â”‚   â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚   â”‚
â”‚   â”‚  â”‚ â˜‘ï¸      â”‚ â”‚ ğŸ“Š      â”‚ â”‚ ğŸ—„ï¸      â”‚ â”‚ ğŸ’»      â”‚       â”‚   â”‚
â”‚   â”‚  â”‚multi_   â”‚ â”‚upstream â”‚ â”‚db_table â”‚ â”‚code     â”‚       â”‚   â”‚
â”‚   â”‚  â”‚select   â”‚ â”‚_column  â”‚ â”‚æ•°æ®åº“è¡¨ â”‚ â”‚ä»£ç      â”‚       â”‚   â”‚
â”‚   â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚   â”‚
â”‚   â”‚                                                         â”‚   â”‚
â”‚   â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                            â”‚   â”‚
â”‚   â”‚  â”‚ ğŸ“      â”‚                                            â”‚   â”‚
â”‚   â”‚  â”‚limit    â”‚                                            â”‚   â”‚
â”‚   â”‚  â”‚æ•°é‡é™åˆ¶ â”‚                                            â”‚   â”‚
â”‚   â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                            â”‚   â”‚
â”‚   â”‚                                                         â”‚   â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                 â”‚
â”‚   [+ æ·»åŠ å…¥å‚]  â† ç°è‰²ä¸å¯ç‚¹å‡»ï¼Œéœ€å…ˆå®Œæˆå½“å‰ç¼–è¾‘                  â”‚
```

**æ­¥éª¤ 2ï¼šé€‰æ‹©ç±»å‹åï¼Œå±•å¼€ä¸“å±é…ç½®**

```
â”‚   â”Œâ”€ æ·»åŠ å…¥å‚: file_picker â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ [Ã—] â”€â”   â”‚
â”‚   â”‚                                                         â”‚   â”‚
â”‚   â”‚  å‚æ•°åç§° *   [path                              ]      â”‚   â”‚
â”‚   â”‚                                                         â”‚   â”‚
â”‚   â”‚  æ˜¾ç¤ºæ ‡é¢˜ *   [æ–‡ä»¶è·¯å¾„                          ]      â”‚   â”‚
â”‚   â”‚                                                         â”‚   â”‚
â”‚   â”‚  å‚æ•°æè¿°     [é€‰æ‹©è¦åŠ è½½çš„ CSV æ–‡ä»¶æˆ–æ–‡ä»¶å¤¹     ]      â”‚   â”‚
â”‚   â”‚                                                         â”‚   â”‚
â”‚   â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€      â”‚   â”‚
â”‚   â”‚  file_picker ä¸“å±é…ç½®                                   â”‚   â”‚
â”‚   â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€      â”‚   â”‚
â”‚   â”‚                                                         â”‚   â”‚
â”‚   â”‚  å…è®¸çš„æ–‡ä»¶ç±»å‹:                                        â”‚   â”‚
â”‚   â”‚  â˜‘ .csv   â˜‘ .txt   â˜ .xlsx   â˜ .json   â˜ .parquet    â”‚   â”‚
â”‚   â”‚  â˜‘ æ–‡ä»¶å¤¹                                               â”‚   â”‚
â”‚   â”‚                                                         â”‚   â”‚
â”‚   â”‚  å…è®¸å¤šé€‰     â—‹ æ˜¯   â— å¦                               â”‚   â”‚
â”‚   â”‚                                                         â”‚   â”‚
â”‚   â”‚  æ˜¯å¦å¿…å¡«     â— æ˜¯   â—‹ å¦                               â”‚   â”‚
â”‚   â”‚                                                         â”‚   â”‚
â”‚   â”‚  é»˜è®¤å€¼       [/data/                            ]      â”‚   â”‚
â”‚   â”‚                                                         â”‚   â”‚
â”‚   â”‚                                        [å–æ¶ˆ] [ä¿å­˜]    â”‚   â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
```

**æ­¥éª¤ 3ï¼šç‚¹å‡» [ä¿å­˜] åï¼Œæ”¶ç¼©æˆç¼©ç•¥å¡ç‰‡**

```
â”‚ â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”“  â”‚
â”‚ â”ƒ å…¥å‚é…ç½®                                                   â”ƒ  â”‚
â”‚ â”—â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”›  â”‚
â”‚                                                                 â”‚
â”‚   â”Œâ”€ path â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚   â”‚                                                          â”‚  â”‚
â”‚   â”‚  ğŸ“ file_picker                                          â”‚  â”‚
â”‚   â”‚  æ–‡ä»¶è·¯å¾„                                                â”‚  â”‚
â”‚   â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€               â”‚  â”‚
â”‚   â”‚  å…è®¸: .csv, .txt, æ–‡ä»¶å¤¹  â”‚  å¿…å¡«  â”‚  é»˜è®¤: /data/      â”‚  â”‚
â”‚   â”‚                                                          â”‚  â”‚
â”‚   â”‚                                     [ç¼–è¾‘]  [â†‘]  [â†“]  [Ã—] â”‚  â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                 â”‚
â”‚   [+ æ·»åŠ å…¥å‚]                                                  â”‚
```

#### 5.5.4 æŸ¥çœ‹èŠ‚ç‚¹ - åªè¯»æ¨¡å¼

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â† è¿”å›åˆ—è¡¨                         æŸ¥çœ‹èŠ‚ç‚¹: CSV Loader         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚ â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”“  â”‚
â”‚ â”ƒ åŸºæœ¬ä¿¡æ¯                                           [ç¼–è¾‘] â”ƒ  â”‚
â”‚ â”—â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”›  â”‚
â”‚                                                                 â”‚
â”‚   èŠ‚ç‚¹æ ‡è¯†     csv_loader                                       â”‚
â”‚   æ˜¾ç¤ºåç§°     CSV Loader                                       â”‚
â”‚   èŠ‚ç‚¹åˆ†ç±»     ğŸ“ æ•°æ®è¾“å…¥                                      â”‚
â”‚   èŠ‚ç‚¹å›¾æ ‡     ğŸ“„ file-csv                                      â”‚
â”‚   èŠ‚ç‚¹æè¿°     ä»æœ¬åœ°æ–‡ä»¶ç³»ç»ŸåŠ è½½ CSV æ ¼å¼çš„æ•°æ®æ–‡ä»¶             â”‚
â”‚   èŠ‚ç‚¹çŠ¶æ€     âœ… å·²å¯ç”¨                                        â”‚
â”‚   åˆ›å»ºæ—¶é—´     2025-12-22 10:30:00                              â”‚
â”‚   æ›´æ–°æ—¶é—´     2025-12-22 14:20:00                              â”‚
â”‚                                                                 â”‚
â”‚ â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”“  â”‚
â”‚ â”ƒ å…¥å‚åˆ—è¡¨ (3)                                               â”ƒ  â”‚
â”‚ â”—â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”›  â”‚
â”‚                                                                 â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚   â”‚ â‘  path                                                    â”‚ â”‚
â”‚   â”‚    ç±»å‹: ğŸ“ file_picker  â”‚  æ ‡é¢˜: æ–‡ä»¶è·¯å¾„  â”‚  å¿…å¡«: âœ…   â”‚ â”‚
â”‚   â”‚    å…è®¸: .csv, .txt, æ–‡ä»¶å¤¹  â”‚  å¤šé€‰: âŒ  â”‚  é»˜è®¤: /data/ â”‚ â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚   â”‚ â‘¡ encoding                                                â”‚ â”‚
â”‚   â”‚    ç±»å‹: ğŸ“‹ select  â”‚  æ ‡é¢˜: æ–‡ä»¶ç¼–ç   â”‚  å¿…å¡«: âœ…        â”‚ â”‚
â”‚   â”‚    é€‰é¡¹: UTF-8, GBK, GB2312  â”‚  é»˜è®¤: UTF-8               â”‚ â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚   â”‚ â‘¢ limit                                                   â”‚ â”‚
â”‚   â”‚    ç±»å‹: ğŸ“ limit  â”‚  æ ‡é¢˜: æ•°æ®é™åˆ¶  â”‚  å¿…å¡«: âŒ         â”‚ â”‚
â”‚   â”‚    æ¨¡å¼: å‰Næ¡, åNæ¡, ä¸é™åˆ¶  â”‚  é»˜è®¤: ä¸é™åˆ¶            â”‚ â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                 â”‚
â”‚ â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”“  â”‚
â”‚ â”ƒ å‡ºå‚åˆ—è¡¨ (1)                                               â”ƒ  â”‚
â”‚ â”—â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”›  â”‚
â”‚                                                                 â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚   â”‚ â‘  data                                                    â”‚ â”‚
â”‚   â”‚    ç±»å‹: ğŸ“Š df (DataFrame)  â”‚  æ ‡é¢˜: è¾“å‡ºæ•°æ®             â”‚ â”‚
â”‚   â”‚    æè¿°: åŠ è½½çš„ CSV æ•°æ®ï¼Œåˆ—ç»“æ„ç”±æ–‡ä»¶å†…å®¹å†³å®š            â”‚ â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                 â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
â”‚                                                                 â”‚
â”‚                         [å¤åˆ¶èŠ‚ç‚¹]  [ç¦ç”¨èŠ‚ç‚¹]  [ç¼–è¾‘èŠ‚ç‚¹]       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 5.5.5 ç¼–è¾‘èŠ‚ç‚¹ - ç¼–è¾‘æ¨¡å¼

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â† è¿”å›åˆ—è¡¨                         ç¼–è¾‘èŠ‚ç‚¹: CSV Loader         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  âš ï¸ ç¼–è¾‘æ¨¡å¼ - ä¿®æ”¹åéœ€ä¿å­˜æ‰èƒ½ç”Ÿæ•ˆ                              â”‚
â”‚                                                                 â”‚
â”‚ â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”“  â”‚
â”‚ â”ƒ åŸºæœ¬ä¿¡æ¯                                                   â”ƒ  â”‚
â”‚ â”—â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”›  â”‚
â”‚                                                                 â”‚
â”‚   èŠ‚ç‚¹æ ‡è¯†    [csv_loader                      ]  ğŸ”’ ä¸å¯ä¿®æ”¹  â”‚
â”‚                                                                 â”‚
â”‚   æ˜¾ç¤ºåç§°    [CSV Loader                      ]               â”‚
â”‚                                                                 â”‚
â”‚   èŠ‚ç‚¹åˆ†ç±»    [æ•°æ®è¾“å…¥                      â–¼]               â”‚
â”‚                                                                 â”‚
â”‚   èŠ‚ç‚¹å›¾æ ‡    [file-csv                      â–¼]  [é¢„è§ˆ] ğŸ“„    â”‚
â”‚                                                                 â”‚
â”‚   èŠ‚ç‚¹æè¿°    [ä»æœ¬åœ°æ–‡ä»¶ç³»ç»ŸåŠ è½½ CSV æ ¼å¼çš„æ•°æ®]               â”‚
â”‚                                                                 â”‚
â”‚ â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”“  â”‚
â”‚ â”ƒ å…¥å‚é…ç½®                                                   â”ƒ  â”‚
â”‚ â”—â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”›  â”‚
â”‚                                                                 â”‚
â”‚   â”Œâ”€ path â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚   â”‚ ğŸ“ file_picker â”‚ æ–‡ä»¶è·¯å¾„                             â”‚     â”‚
â”‚   â”‚ å…è®¸: .csv, .txt, æ–‡ä»¶å¤¹ â”‚ å¿…å¡«         [ç¼–è¾‘] [â†‘] [â†“] [Ã—] â”‚     â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚                                                                 â”‚
â”‚   â”Œâ”€ encoding â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚   â”‚ ğŸ“‹ select â”‚ æ–‡ä»¶ç¼–ç                                   â”‚     â”‚
â”‚   â”‚ é€‰é¡¹: UTF-8, GBK â”‚ é»˜è®¤: UTF-8          [ç¼–è¾‘] [â†‘] [â†“] [Ã—] â”‚     â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚                                                                 â”‚
â”‚   [+ æ·»åŠ å…¥å‚]                                                  â”‚
â”‚                                                                 â”‚
â”‚ â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”“  â”‚
â”‚ â”ƒ å‡ºå‚é…ç½®                                                   â”ƒ  â”‚
â”‚ â”—â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”›  â”‚
â”‚                                                                 â”‚
â”‚   â”Œâ”€ data â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚   â”‚ ğŸ“Š df â”‚ è¾“å‡ºæ•°æ®                             [ç¼–è¾‘] [Ã—] â”‚     â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚                                                                 â”‚
â”‚   [+ æ·»åŠ å‡ºå‚]                                                  â”‚
â”‚                                                                 â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
â”‚                                                                 â”‚
â”‚                                   [å–æ¶ˆ]  [ä¿å­˜]  [ä¿å­˜å¹¶å¯ç”¨]  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 5.5.6 åˆ é™¤èŠ‚ç‚¹ - ç¡®è®¤å¼¹çª—

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          âš ï¸ åˆ é™¤ç¡®è®¤                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚      ç¡®å®šè¦åˆ é™¤èŠ‚ç‚¹ã€ŒCSV Loaderã€å—ï¼Ÿ                            â”‚
â”‚                                                                 â”‚
â”‚      æ­¤æ“ä½œä¸å¯æ¢å¤ï¼Œåˆ é™¤åï¼š                                    â”‚
â”‚      â€¢ èŠ‚ç‚¹å®šä¹‰å°†æ°¸ä¹…åˆ é™¤                                       â”‚
â”‚      â€¢ ä½¿ç”¨æ­¤èŠ‚ç‚¹çš„å·¥ä½œæµå¯èƒ½æ— æ³•æ­£å¸¸è¿è¡Œ                        â”‚
â”‚                                                                 â”‚
â”‚      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚      â”‚ âš ï¸ ä»¥ä¸‹ 3 ä¸ªå·¥ä½œæµæ­£åœ¨ä½¿ç”¨æ­¤èŠ‚ç‚¹ï¼š                   â”‚    â”‚
â”‚      â”‚    â€¢ ETL-è‚¡ç¥¨æ—¥çº¿æ•°æ®å…¥åº“                           â”‚    â”‚
â”‚      â”‚    â€¢ ETL-è´¢åŠ¡æ•°æ®åŒæ­¥                               â”‚    â”‚
â”‚      â”‚    â€¢ ETL-æŒ‡æ•°æˆåˆ†è‚¡æ›´æ–°                             â”‚    â”‚
â”‚      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                 â”‚
â”‚      è¾“å…¥èŠ‚ç‚¹åç§°ä»¥ç¡®è®¤åˆ é™¤: [                            ]     â”‚
â”‚                                                                 â”‚
â”‚                                        [å–æ¶ˆ]  [ç¡®è®¤åˆ é™¤]       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 5.5.7 å¤åˆ¶èŠ‚ç‚¹ - å¿«é€Ÿåˆ›å»º

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          ğŸ“‹ å¤åˆ¶èŠ‚ç‚¹                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚      åŸºäºã€ŒCSV Loaderã€åˆ›å»ºæ–°èŠ‚ç‚¹                                â”‚
â”‚                                                                 â”‚
â”‚      æ–°èŠ‚ç‚¹æ ‡è¯† *   [csv_loader_copy               ]           â”‚
â”‚                     âš ï¸ æ ‡è¯†å·²å­˜åœ¨ï¼Œè¯·ä¿®æ”¹                        â”‚
â”‚                                                                 â”‚
â”‚      æ–°èŠ‚ç‚¹åç§° *   [CSV Loader (å‰¯æœ¬)             ]           â”‚
â”‚                                                                 â”‚
â”‚      â˜‘ å¤åˆ¶æ‰€æœ‰å…¥å‚é…ç½®                                         â”‚
â”‚      â˜‘ å¤åˆ¶æ‰€æœ‰å‡ºå‚é…ç½®                                         â”‚
â”‚                                                                 â”‚
â”‚                               [å–æ¶ˆ]  [åˆ›å»ºå¹¶ç¼–è¾‘]  [ç›´æ¥åˆ›å»º]  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 5.5.8 å…¥å‚æ’åº - æ‹–æ‹½æˆ–æŒ‰é’®

```
â”‚ â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”“  â”‚
â”‚ â”ƒ å…¥å‚é…ç½®                                                   â”ƒ  â”‚
â”‚ â”—â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”›  â”‚
â”‚                                                                 â”‚
â”‚   â”Œâ”€ â‘  path â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚   â”‚ â‹®â‹® ğŸ“ file_picker â”‚ æ–‡ä»¶è·¯å¾„             [ç¼–è¾‘] [â†‘] [â†“] [Ã—] â”‚     â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚                                    â†‘â†“ æ‹–æ‹½æ‰‹æŸ„æˆ–ç‚¹å‡»æŒ‰é’®æ’åº     â”‚
â”‚   â”Œâ”€ â‘¡ encoding â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚   â”‚ â‹®â‹® ğŸ“‹ select â”‚ æ–‡ä»¶ç¼–ç                   [ç¼–è¾‘] [â†‘] [â†“] [Ã—] â”‚     â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚                                                                 â”‚
â”‚   â”Œâ”€ â‘¢ limit â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚   â”‚ â‹®â‹® ğŸ“ limit â”‚ æ•°æ®é™åˆ¶                   [ç¼–è¾‘] [â†‘] [â†“] [Ã—] â”‚     â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
```

#### 5.5.9 èŠ‚ç‚¹çŠ¶æ€æµè½¬

```
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚  åˆ›å»ºä¸­   â”‚
                    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
                         â”‚
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â–¼                         â–¼
     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â”‚  è‰ç¨¿    â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚  å·²å¯ç”¨   â”‚
     â”‚  (Draft) â”‚   å¯ç”¨/ç¦ç”¨   â”‚ (Active) â”‚
     â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜              â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
          â”‚                         â”‚
          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â–¼
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚  å·²åˆ é™¤   â”‚
              â”‚(Deleted) â”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

çŠ¶æ€è¯´æ˜ï¼š
â€¢ è‰ç¨¿ (Draft)ï¼šèŠ‚ç‚¹å®šä¹‰ä¸å®Œæ•´æˆ–æš‚æ—¶ç¦ç”¨ï¼Œä¸èƒ½åœ¨å·¥ä½œæµä¸­ä½¿ç”¨
â€¢ å·²å¯ç”¨ (Active)ï¼šèŠ‚ç‚¹å¯ä»¥åœ¨å·¥ä½œæµä¸­æ­£å¸¸ä½¿ç”¨
â€¢ å·²åˆ é™¤ (Deleted)ï¼šè½¯åˆ é™¤ï¼Œæ•°æ®ä¿ç•™ä½†ä¸å¯è§
```

### 5.6 å‚æ•°ç±»å‹æ•°æ®ç»“æ„

```typescript
// å…¥å‚å®šä¹‰
interface InputParameter {
  id: string;                    // å‚æ•°å”¯ä¸€æ ‡è¯†
  type: InputParamType;          // å‚æ•°ç±»å‹
  name: string;                  // å‚æ•°åç§°
  title: string;                 // æ˜¾ç¤ºæ ‡é¢˜
  description?: string;          // å‚æ•°æè¿°
  required: boolean;             // æ˜¯å¦å¿…å¡«
  config: ParamTypeConfig;       // ç±»å‹ä¸“å±é…ç½®
}

// å…¥å‚ç±»å‹
type InputParamType =
  | "file_picker"
  | "limit"
  | "number"
  | "text"
  | "select"
  | "multi_select"
  | "upstream_column"
  | "upstream_columns"
  | "db_table"
  | "code";

// å‡ºå‚å®šä¹‰
interface OutputParameter {
  id: string;                    // å‚æ•°å”¯ä¸€æ ‡è¯†
  type: OutputParamType;         // å‚æ•°ç±»å‹
  name: string;                  // ç«¯å£åç§°
  title: string;                 // æ˜¾ç¤ºæ ‡é¢˜
  description?: string;          // å‚æ•°æè¿°
  columns?: ColumnDefinition[];  // è¾“å‡ºçš„åˆ—å®šä¹‰ï¼ˆä»… df ç±»å‹ï¼‰
}

// å‡ºå‚ç±»å‹
type OutputParamType =
  | "df"
  | "signal"
  | "file"
  | "chart"
  | "metrics"
  | "message"
  | "json"
  | "status";
```

---

## å…­ã€è¿çº¿ (Edge) è®¾è®¡

### 6.1 è¿çº¿æ•°æ®ç»“æ„

```typescript
interface WorkflowEdge {
  id: string;
  source: string;        // æºèŠ‚ç‚¹ ID
  sourceHandle: string;  // æºç«¯å£å
  target: string;        // ç›®æ ‡èŠ‚ç‚¹ ID
  targetHandle: string;  // ç›®æ ‡ç«¯å£å
}
```

### 6.2 è¿çº¿æ ¡éªŒè§„åˆ™

1. **åˆ—åå†²çªæ£€æµ‹**ï¼šç›®æ ‡èŠ‚ç‚¹çš„å¤šä¸ªè¾“å…¥ç«¯å£ä¸èƒ½æœ‰åŒååˆ—
2. **å¿…éœ€åˆ—æ£€æŸ¥**ï¼šç›®æ ‡ç«¯å£çš„ `required_columns` å¿…é¡»è¢«ä¸Šæ¸¸è¦†ç›–
3. **ç±»å‹å…¼å®¹æ£€æŸ¥**ï¼ˆå¯é€‰ï¼‰ï¼šåˆ—ç±»å‹éœ€åŒ¹é… `accepted_types`

---

## ä¸ƒã€Schema ä¼ æ’­æœºåˆ¶

### 7.1 æµç¨‹

```
1. ç”¨æˆ·è¿çº¿åè§¦å‘ Schema è®¡ç®—
2. ä»æ•°æ®æºèŠ‚ç‚¹å¼€å§‹ï¼Œæ²¿ DAG é¡ºåºä¼ æ’­
3. æ¯ä¸ªèŠ‚ç‚¹æ ¹æ®ä¸Šæ¸¸è¾“å‡ºè®¡ç®—å¯ç”¨åˆ—
4. ç”¨æˆ·åœ¨èŠ‚ç‚¹é…ç½®ä¸­é€‰æ‹©éœ€è¦çš„åˆ—
5. èŠ‚ç‚¹å£°æ˜è¾“å‡ºåˆ—ï¼ˆé€ä¼  + æ–°å¢ï¼‰
6. ç»§ç»­ä¼ æ’­åˆ°ä¸‹æ¸¸èŠ‚ç‚¹
```

### 7.2 è®¡ç®—é€»è¾‘

```typescript
function computeAvailableColumns(nodeId: string, nodes: Node[], edges: Edge[]): ColumnDefinition[] {
  // æ‰¾åˆ°æ‰€æœ‰è¿å…¥è¯¥èŠ‚ç‚¹çš„è¾¹
  const incomingEdges = edges.filter(e => e.target === nodeId);

  const columnMap = new Map<string, ColumnDefinition>();
  const conflicts: string[] = [];

  for (const edge of incomingEdges) {
    const sourceNode = nodes.find(n => n.id === edge.source);
    const sourcePort = sourceNode.data.outputs.find(o => o.port === edge.sourceHandle);

    for (const col of sourcePort.columns) {
      if (columnMap.has(col.name)) {
        conflicts.push(col.name);
      } else {
        columnMap.set(col.name, col);
      }
    }
  }

  // åˆ—åå†²çªåˆ™æŠ¥é”™
  if (conflicts.length > 0) {
    throw new Error(`åˆ—åå†²çª: ${conflicts.join(', ')}ï¼Œè¯·åœ¨ä¸Šæ¸¸èŠ‚ç‚¹å…ˆé‡å‘½å`);
  }

  return Array.from(columnMap.values());
}
```

---

## å…«ã€UI äº¤äº’è®¾è®¡

### 8.1 èŠ‚ç‚¹é…ç½®é¢æ¿

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ“Š MA Calculator                      [Ã—]  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                             â”‚
â”‚ â–¼ è¾“å…¥é…ç½®                                  â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ ä»·æ ¼åˆ—: [close           â–¼]            â”‚ â”‚
â”‚ â”‚         (ä»ä¸Šæ¸¸å¯ç”¨åˆ—ä¸­é€‰æ‹©)             â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                             â”‚
â”‚ â–¼ å‚æ•°è®¾ç½®                                  â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ å‘¨æœŸ: [5] [10] [20]          [+ æ·»åŠ ]  â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                             â”‚
â”‚ â–¼ è¾“å‡ºé…ç½®                                  â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ ç«¯å£: df                    [+ æ–°ç«¯å£]  â”‚ â”‚
â”‚ â”‚                                         â”‚ â”‚
â”‚ â”‚ é€ä¼ ä¸Šæ¸¸åˆ—:        [å…¨é€‰] [æ¸…ç©º]        â”‚ â”‚
â”‚ â”‚ â˜‘ date    â˜‘ code    â˜‘ close           â”‚ â”‚
â”‚ â”‚ â˜ open    â˜ high    â˜ low             â”‚ â”‚
â”‚ â”‚ â˜ volume                               â”‚ â”‚
â”‚ â”‚                                         â”‚ â”‚
â”‚ â”‚ æœ¬èŠ‚ç‚¹æ–°å¢åˆ—:                           â”‚ â”‚
â”‚ â”‚ â˜‘ ma5     â˜‘ ma10    â˜‘ ma20            â”‚ â”‚
â”‚ â”‚                                         â”‚ â”‚
â”‚ â”‚ è¾“å‡ºé¢„è§ˆ: date, code, close, ma5,      â”‚ â”‚
â”‚ â”‚          ma10, ma20                    â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                             â”‚
â”‚                          [å–æ¶ˆ] [ä¿å­˜]     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 8.2 åˆ—ç¼–è¾‘å™¨

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ç¼–è¾‘åˆ—: ma5                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ åˆ—å:     [ma5                    ]        â”‚
â”‚ æ˜¾ç¤ºå:   [5æ—¥å‡çº¿                 ]        â”‚
â”‚ ç±»å‹:     [number              â–¼]          â”‚
â”‚ æ ¼å¼:     [price               â–¼]          â”‚
â”‚ å°æ•°ä½:   [2                   â–¼]          â”‚
â”‚ å•ä½:     [å…ƒ                    ]         â”‚
â”‚ å¯ä¸ºç©º:   [å¦                  â–¼]          â”‚
â”‚ æè¿°:     [5æ—¥ç®€å•ç§»åŠ¨å¹³å‡çº¿      ]         â”‚
â”‚ ç¤ºä¾‹å€¼:   [15.32                 ]         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                          [å–æ¶ˆ] [ç¡®å®š]     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 8.3 å†²çªæç¤º

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ âš ï¸ åˆ—åå†²çª                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                             â”‚
â”‚ ä»¥ä¸‹åˆ—ååœ¨å¤šä¸ªè¾“å…¥ä¸­é‡å¤:                    â”‚
â”‚                                             â”‚
â”‚   â€¢ date  (æ¥è‡ª: è¡Œæƒ…æ•°æ®, è´¢åŠ¡æ•°æ®)         â”‚
â”‚   â€¢ code  (æ¥è‡ª: è¡Œæƒ…æ•°æ®, è´¢åŠ¡æ•°æ®)         â”‚
â”‚                                             â”‚
â”‚ è¯·åœ¨ä¸Šæ¸¸èŠ‚ç‚¹ä½¿ç”¨ã€Œåˆ—é‡å‘½åã€è§£å†³å†²çªã€‚        â”‚
â”‚                                             â”‚
â”‚                               [æˆ‘çŸ¥é“äº†]    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ä¹ã€å…¸å‹å·¥ä½œæµç¤ºä¾‹

### 9.1 ETL æ•°æ®å…¥åº“

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  CSV Loader  â”‚â”€â”€â”€â”€â†’â”‚Column Rename â”‚â”€â”€â”€â”€â†’â”‚ DB Writer    â”‚
â”‚              â”‚ df  â”‚              â”‚ df  â”‚              â”‚
â”‚ out:         â”‚     â”‚ out:         â”‚     â”‚ in:          â”‚
â”‚ [æ—¥æœŸ,æ”¶ç›˜,  â”‚     â”‚ [date,close, â”‚     â”‚ [date,close, â”‚
â”‚  æˆäº¤é‡]     â”‚     â”‚  volume]     â”‚     â”‚  volume]     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 9.2 å¤šå› å­è®¡ç®—

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  DB Reader   â”‚â”€â”€â”€â”€â†’â”‚  MA Calc     â”‚â”€â”€â”€â”€â†’â”
â”‚              â”‚ df  â”‚              â”‚ df  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ out: [date,  â”‚     â”‚ out: [date,  â”‚     â”œâ”€â†’â”‚   Merge      â”‚
â”‚  close]      â”‚     â”‚  close,ma5]  â”‚     â”‚  â”‚              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚  â”‚ out: [date,  â”‚
                                          â”‚  â”‚  close,ma5,  â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚  â”‚  rsi]        â”‚
â”‚  DB Reader   â”‚â”€â”€â”€â”€â†’â”‚  RSI Calc    â”‚â”€â”€â”€â”€â†’â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚              â”‚ df  â”‚              â”‚ df
â”‚ out: [date,  â”‚     â”‚ out: [date,  â”‚
â”‚  close]      â”‚     â”‚  rsi]        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 9.3 ç­–ç•¥å›æµ‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  DB Reader   â”‚â”€â”€â”€â”€â†’â”‚  Strategy    â”‚â”€â”€â”€â”€â†’â”‚  Backtest    â”‚
â”‚              â”‚ df  â”‚              â”‚signal            â”‚
â”‚ out: [date,  â”‚     â”‚ out: [date,  â”‚     â”‚ out: [date,  â”‚
â”‚  close,ma5,  â”‚     â”‚  signal,     â”‚     â”‚  equity,     â”‚
â”‚  ma10]       â”‚     â”‚  direction]  â”‚     â”‚  returns]    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## åã€åç«¯ API è®¾è®¡

### 10.1 èŠ‚ç‚¹å®šä¹‰ API

```
GET  /api/v1/workflow/nodes              # è·å–æ‰€æœ‰èŠ‚ç‚¹å®šä¹‰
GET  /api/v1/workflow/nodes/{id}         # è·å–å•ä¸ªèŠ‚ç‚¹å®šä¹‰
POST /api/v1/workflow/nodes              # åˆ›å»ºèŠ‚ç‚¹å®šä¹‰
PUT  /api/v1/workflow/nodes/{id}         # æ›´æ–°èŠ‚ç‚¹å®šä¹‰
DELETE /api/v1/workflow/nodes/{id}       # åˆ é™¤èŠ‚ç‚¹å®šä¹‰
POST /api/v1/workflow/nodes/sync         # ä»ä»£ç åŒæ­¥èŠ‚ç‚¹å®šä¹‰
```

### 10.2 å·¥ä½œæµé…ç½® API

```
GET  /api/v1/workflow/configs            # è·å–æ‰€æœ‰å·¥ä½œæµ
GET  /api/v1/workflow/configs/{id}       # è·å–å•ä¸ªå·¥ä½œæµ
POST /api/v1/workflow/configs            # åˆ›å»ºå·¥ä½œæµ
PUT  /api/v1/workflow/configs/{id}       # æ›´æ–°å·¥ä½œæµ
DELETE /api/v1/workflow/configs/{id}     # åˆ é™¤å·¥ä½œæµ
POST /api/v1/workflow/configs/{id}/run   # æ‰§è¡Œå·¥ä½œæµ
```

### 10.3 Schema æ¢æµ‹ API

```
POST /api/v1/workflow/inspect-schema
# è¯·æ±‚ï¼š{ "type": "csv", "path": "/data/stock.csv" }
# å“åº”ï¼š{ "columns": [{ "name": "close", "type": "number" }, ...] }
```

---

## åä¸€ã€å¾…è®¨è®ºäº‹é¡¹

1. **åˆ—çš„ç‰ˆæœ¬æ§åˆ¶**ï¼šä¿®æ”¹åˆ—å®šä¹‰åï¼Œå·²ä¿å­˜çš„å·¥ä½œæµå¦‚ä½•å¤„ç†ï¼Ÿ
2. **è¿è¡Œæ—¶ç±»å‹è½¬æ¢**ï¼šä¸Šæ¸¸æ˜¯ stringï¼Œä¸‹æ¸¸éœ€è¦ numberï¼Œæ˜¯å¦è‡ªåŠ¨è½¬æ¢ï¼Ÿ
3. **åˆ—çš„é»˜è®¤å€¼**ï¼šåˆ—ä¸ºç©ºæ—¶æ˜¯å¦æ”¯æŒé»˜è®¤å€¼å¡«å……ï¼Ÿ
4. **åˆ—çš„è®¡ç®—è¡¨è¾¾å¼**ï¼šæ˜¯å¦æ”¯æŒç±»ä¼¼ `new_col = col_a + col_b` çš„è¡¨è¾¾å¼åˆ—ï¼Ÿ

---

*æ–‡æ¡£ç»“æŸ*
